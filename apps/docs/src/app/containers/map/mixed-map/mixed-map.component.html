<app-page-header>
  <div>
    <h1>혼합 지도</h1>
    <h3>리액트 지도 렌더링</h3>
  </div>

  <!-- <button mat-icon-button [matMenuTriggerFor]="menu"><mat-icon>settings</mat-icon></button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item (click)="toggleTriangle()">
      <mat-icon *ngIf="!triangle.isActive">play_circle_outline</mat-icon>
      <mat-icon *ngIf="triangle.isActive">pause_circle_outline</mat-icon>
      <span>{{ toggleTriangleLabel }}</span>
    </button>
    <div mat-menu-item>
      <mat-slide-toggle (click)="toggle()">
        <span style="font-size:16px !important">
          <ng-container *ngIf="!projectAsAngular">앵귤라 전사</ng-container>
          <ng-container *ngIf="projectAsAngular">리액트 렌더링</ng-container>
        </span>
      </mat-slide-toggle>
    </div>
    <div mat-menu-item>
      <mat-slider
        [value]="DEFAULT_DOT_SIZE"
        max="60"
        min="10"
        step="10"
        tick-interval="1"
        (change)="dotSizeChanged($event)"
      >
      </mat-slider>
      <label>점 크기</label>
    </div>
  </mat-menu> -->
</app-page-header>

<span class="content" [class.collapsed]="contentCollapsed">
  모든 점은 앵귤라 컴포넌트이다. 컴포넌트 안의 카운터는
  {{ projectAsAngular ? '앵귤라에서 전사된' : '리액트로 렌더링한' }} 리액트 엘리먼트이며 앵귤라-리액트 렌더러를 통해 렌더링된다.
  <span class="spacer"><br /><br /></span>

  이 성능 시연은 단일쓰레드 자바스크립트 프로세스상에서 DOM 바인딩과 반복 렌더링의 영향도를 가시화해 준다.
  이 경우, 애니메이션은 틱 (초) 마다 텍스트 카운터를 렌더링함에 따라 멈추게된다. 리액트와 앵귤라는 모두
  쓰레드가 혼잡하지 않을 때 (렌더링이 자연스럽게 진행되는 타이밍에) DOM을 업데이트하는 고급 바인딩 로직을 가진다.
  텍스트 카운터에 대해 "앵귤러 전사"와 "리액트 렌더링"을 전환 (현재는 {{ projectAsAngular ? '앵귤라 전사' : '리액트 렌더링' }}로 설정됨) 하여
  리액트 엘리먼트의 제약을 시연한다. 각 각의 점은 리액트에선 이산적으로 렌더링된다. 리액트는 점들을 취합하여 렌더링하지 않으며,
  그러므로 쓰레드가 멈추지 않도록 하여 자연스러운 애니메이션을 진행할 수 있는 전역 스케쥴러를 사용할 수 없다.
  자연스러운 렌더링이 필요한 경우, 앵귤라 렌더링된 DOM을 리액트 엘리먼트에 전사하는 것이 더 나은 성능을 보인다.

  <div class="expand" (click)="contentCollapsed = false"></div>
  <span class="collapse" (click)="contentCollapsed = true">[접기]</span>
</span>

<app-cesium-map>
  test
</app-cesium-map>

<!-- <app-triangle>
  <ng-template let-text="text" let-dot="dot">
    <app-react-dot
      [size]="dot.size"
      [x]="dot.x"
      [y]="dot.y"
      [color]="dot.color"
      [textOverride]="dot.textOverride"
      [backgroundColor]="dot.backgroundColor"
      (onMouseEnter)="dot.hover = true"
      (onMouseLeave)="dot.hover = false"
      [text]="projectAsAngular ? '' : text"
    >
      {{ projectAsAngular ? (dot.textOverride ? dot.textOverride : text) : '' }}
    </app-react-dot>
  </ng-template>

  <div class="message mat-h1">{{ triangle.dots?.length }} Dots</div>
</app-triangle> -->
